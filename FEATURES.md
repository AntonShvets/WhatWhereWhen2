# –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω–∫–∏

## ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ó–≤—É–∫–∞–º–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç SoundEffects

**–§–∞–π–ª:** `frontend/admin/components/SoundEffects.tsx`

- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫ "–ó–≤—É–∫–æ–≤—ã–µ –≠—Ñ—Ñ–µ–∫—Ç—ã" –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–ª—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è –∑–≤—É–∫–æ–≤:
  - üîî –ì–æ–Ω–≥ (`gong.mp3`)
  - ‚è±Ô∏è –ù–∞—á–∞–ª–æ –ú–∏–Ω—É—Ç—ã (`minute_start.mp3`)
  - üö® –°–∏—Ä–µ–Ω–∞ (`siren.mp3`)
  - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –û—Ç–≤–µ—Ç (`correct.mp3`)
  - ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –û—Ç–≤–µ—Ç (`incorrect.mp3`)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ Socket.io –Ω–∞ –¢–í-–∫–ª–∏–µ–Ω—Ç
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏

### Backend –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–§–∞–π–ª:** `backend/src/gateways/game.gateway.ts`

- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `play_sound` –≤ GameGateway
- ‚úÖ –†–∞—Å—Å—ã–ª–∫–∞ –∫–æ–º–∞–Ω–¥—ã –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º –≤ –∫–æ–º–Ω–∞—Ç–µ –∏–≥—Ä—ã
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä–æ–º–∫–æ—Å—Ç–∏

## ‚úÖ CRUD-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ó–Ω–∞—Ç–æ–∫–∞–º–∏ (Experts)

**–§–∞–π–ª:** `frontend/admin/pages/experts.tsx`

- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è –∑–Ω–∞—Ç–æ–∫–æ–≤
- ‚úÖ –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏:
  - –ò–º—è
  - –°—Ç–∞—Ç—É—Å (active, inactive, playing)
  - URL –∞–≤–∞—Ç–∞—Ä–∞
  - –ë–∏–æ–≥—Ä–∞—Ñ–∏—è
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –∑–Ω–∞—Ç–æ–∫–æ–≤
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ

**Backend:**
- ‚úÖ `backend/src/modules/experts/` - –ü–æ–ª–Ω—ã–π CRUD API
- ‚úÖ REST endpoints: GET, POST, PATCH, DELETE

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¢–µ–ª–µ–∑—Ä–∏—Ç–µ–ª—è–º–∏ –∏ –í–æ–ø—Ä–æ—Å–∞–º–∏

**–§–∞–π–ª:** `frontend/admin/pages/viewers-questions.tsx`

- ‚úÖ –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª—è–º–∏ –∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª—è —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –≤–æ–ø—Ä–æ—Å–∞
- ‚úÖ –§–æ—Ä–º–∞ —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª—è:
  - –ò–º—è, –ì–æ—Ä–æ–¥, –°—Ç—Ä–∞–Ω–∞
  - Email, –¢–µ–ª–µ—Ñ–æ–Ω
  - URL —Ñ–æ—Ç–æ
- ‚úÖ –§–æ—Ä–º–∞ –≤–æ–ø—Ä–æ—Å–∞:
  - –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞
  - –¢–∏–ø (text, video, image, audio)
  - –û—Ç–≤–µ—Ç
  - –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
  - –°–ª–æ–∂–Ω–æ—Å—Ç—å (1-5)
  - –ö–∞—Ç–µ–≥–æ—Ä–∏—è
  - –°—Ç–∞—Ç—É—Å (pending, used, deferred)
  - –û–¥–æ–±—Ä–µ–Ω–∏–µ
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤:
  - –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ–¥–∏–∞-—Ñ–∞–π–ª–∞
  - –ó–∞–≥—Ä—É–∑–∫–∞ –º–∏–Ω–∏–∞—Ç—é—Ä—ã
  - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤–æ–ø—Ä–æ—Å–∞ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω/–æ—Ç–ª–æ–∂–µ–Ω)

**Backend:**
- ‚úÖ `backend/src/modules/viewers/` - CRUD API –¥–ª—è —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª–µ–π
- ‚úÖ `backend/src/modules/questions/` - CRUD API –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ `backend/src/modules/upload/` - API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤ –∏–∑ `/uploads`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `question_status` –≤ —Ç–∞–±–ª–∏—Ü—É Questions

## ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ú–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤

### Backend Upload API

**–§–∞–π–ª:** `backend/src/modules/upload/upload.controller.ts`

- ‚úÖ Endpoint: `POST /api/upload/media`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤:
  - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: JPEG, PNG, GIF, WebP
  - –í–∏–¥–µ–æ: MP4, WebM
  - –ê—É–¥–∏–æ: MP3, WAV
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞: 100MB
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç URL –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î

### Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ —Ñ–æ—Ä–º–µ –≤–æ–ø—Ä–æ—Å–∞
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

## ‚úÖ –¢–í-–ö–ª–∏–µ–Ω—Ç (–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

**–§–∞–π–ª:** `frontend/tv-client/example/TVClientExample.tsx`

### –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–º–µ—Ä (TVClientExample)

- ‚úÖ Socket.io –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–µ –∏–≥—Ä—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `play_sound`
- ‚úÖ –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤ —á–µ—Ä–µ–∑ HTML5 `<audio>` —Ç–µ–≥
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∑–≤—É–∫–æ–≤ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∑–≤—É–∫–∞

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (TVClientWithMultipleAudio)

- ‚úÖ –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –∑–≤—É–∫–æ–≤
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–π `<audio>` —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–≤—É–∫–∞
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —á–∞—Å—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–§–∞–π–ª:** `TV_CLIENT_EXAMPLE.md`

- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ gateways/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ game.gateway.ts          # + play_sound handler
‚îÇ   ‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ experts/                  # NEW: CRUD –¥–ª—è –∑–Ω–∞—Ç–æ–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ viewers/                  # NEW: CRUD –¥–ª—è —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ upload/                   # NEW: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ main.ts                       # + Static files serving

frontend/admin/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ SoundEffects.tsx              # NEW: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–∞–º–∏
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ index.tsx                     # + Navigation links
‚îÇ   ‚îú‚îÄ‚îÄ experts.tsx                   # NEW: CRUD –∑–Ω–∞—Ç–æ–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ viewers-questions.tsx         # NEW: CRUD —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª–µ–π/–≤–æ–ø—Ä–æ—Å–æ–≤
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ api.ts                         # + Experts, Viewers, Upload APIs

frontend/tv-client/
‚îî‚îÄ‚îÄ example/
    ‚îî‚îÄ‚îÄ TVClientExample.tsx            # NEW: –ü—Ä–∏–º–µ—Ä –¢–í-–∫–ª–∏–µ–Ω—Ç–∞
```

## API Endpoints

### –ù–æ–≤—ã–µ endpoints

**Experts:**
- `GET /api/experts` - –°–ø–∏—Å–æ–∫ –∑–Ω–∞—Ç–æ–∫–æ–≤
- `GET /api/experts/:id` - –î–µ—Ç–∞–ª–∏ –∑–Ω–∞—Ç–æ–∫–∞
- `POST /api/experts` - –°–æ–∑–¥–∞—Ç—å –∑–Ω–∞—Ç–æ–∫–∞
- `PATCH /api/experts/:id` - –û–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—Ç–æ–∫–∞
- `DELETE /api/experts/:id` - –£–¥–∞–ª–∏—Ç—å –∑–Ω–∞—Ç–æ–∫–∞

**Viewers:**
- `GET /api/viewers` - –°–ø–∏—Å–æ–∫ —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª–µ–π
- `GET /api/viewers/:id` - –î–µ—Ç–∞–ª–∏ —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª—è
- `POST /api/viewers` - –°–æ–∑–¥–∞—Ç—å —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª—è
- `PATCH /api/viewers/:id` - –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª—è
- `DELETE /api/viewers/:id` - –£–¥–∞–ª–∏—Ç—å —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª—è

**Upload:**
- `POST /api/upload/media` - –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–µ–¥–∏–∞-—Ñ–∞–π–ª
- `GET /uploads/:filename` - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª

**Questions (–æ–±–Ω–æ–≤–ª–µ–Ω–æ):**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `question_status` (pending, used, deferred)

## Socket.io Events

### –ù–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

**Client ‚Üí Server:**
- `play_sound` - –ü—Ä–æ–∏–≥—Ä–∞—Ç—å –∑–≤—É–∫ –Ω–∞ –¢–í-–∫–ª–∏–µ–Ω—Ç–µ
  ```typescript
  socket.emit('play_sound', {
    gameId: '...',
    file: 'gong.mp3',
    volume: 1.0
  });
  ```

**Server ‚Üí Client:**
- `play_sound` - –ö–æ–º–∞–Ω–¥–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫
  ```typescript
  socket.on('play_sound', (data: { file: string; volume: number; timestamp: number }) => {
    // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫
  });
  ```

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ó–Ω–∞—Ç–æ–∫–∞–º–∏ (`/experts`)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¢–µ–ª–µ–∑—Ä–∏—Ç–µ–ª—è–º–∏ –∏ –í–æ–ø—Ä–æ—Å–∞–º–∏ (`/viewers-questions`)

## –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `SETUP.md` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–≤—É–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ `/backend/uploads/`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¢–í-–∫–ª–∏–µ–Ω—Ç –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ä—Ç—É
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
5. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤

